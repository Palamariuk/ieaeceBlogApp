<h1>Articles</h1>

Our blog has <%= Article.public_count %> articles and counting!

<div>
  <%= link_to "New Article", new_article_path %>
</div>
<div>
  <%= link_to 'Previous page', root_path(page: @page > 0 ? @page - 1 : @page) %>
  |
  <%= link_to 'Next page', root_path(page: @page < Article.all.count.div(ArticlesController::ARTICLES_PER_PAGE) ? @page + 1 : @page) %>
</div>
<br>

<% @articles.each do |article| %>
  <div class="article">
    <h3><%= link_to article.title, article %></h3>
    <i>Author: <%= article.author.username %> | Created: <%= article.created_at %></i>
    <p><%= article.body %></p>
    <% if policy(article).update? %>
      <%= link_to "Edit", edit_article_path(article) %> |
    <% end %>

    <% if policy(article).destroy? %>
      <%= link_to "Destroy", article_path(article),
                  method: :delete,
                  data: { confirm: "Are you sure?" } %>
    <% end %>
  </div>
<% end %>

<br>



<style>
    .article {
        border-left: 5px solid cornflowerblue;
        padding-left: 10px;
        background: #cfdaec;
    }
</style>
